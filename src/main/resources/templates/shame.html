<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
    <head th:replace="~{home :: head(title='Beer Manager - Users') }"></head>
    <body>

        <header th:replace="~{home :: .navbar}"></header>

        <div class="main" >
        <p class="title">Classement - Top buveur</p>

            <div id="tabs-with-content">
                <div class="tabs">
                    <ul>
                        <li class="is-active"><a>Semaine</a></li>
                        <li><a>Mois</a></li>
                        <li><a>Année</a></li>
                        <li><a>Total</a></li>
                    </ul>
                </div>
                <div>
                    <section class="tab-content is-active">
                        <span th:unless="${#lists.isEmpty(nbBeerByUserOfWeek)}">
                            <table class="table  is-striped  is-hoverable is-fullwidth">
                                <tr><th>Nom</th><th>Quantité de Bière bu</th></tr>
                                <tr th:each="oneUser : ${nbBeerByUserOfWeek}">
                                        <td><span th:text="${oneUser.first.name}"> Nom </span></td>
                                        <td><span th:text="${oneUser.second*1.0 / 100 + ' l'}"> Quantité </span></td>
                                    </tr>
                            </table>
                        </span>
                    </section>

                    <section class="tab-content">

                        <span th:unless="${#lists.isEmpty(nbBeerByUserOfMonth)}">
                            <table class="table  is-striped  is-hoverable is-fullwidth">
                                <tr><th>Nom</th><th>Quantité de Bière bu</th></tr>
                                <tr th:each="oneUser : ${nbBeerByUserOfMonth}">
                                        <td><span th:text="${oneUser.first.name}"> Nom </span></td>
                                        <td><span th:text="${oneUser.second*1.0 / 100 + ' l'}"> Quantité </span></td>
                                    </tr>
                            </table>
                        </span>
                    </section>
                    <section class="tab-content">

                        <span th:unless="${#lists.isEmpty(nbBeerByUserOfYear)}">
                            <table class="table  is-striped  is-hoverable is-fullwidth">
                                <tr><th>Nom</th><th>Quantité de Bière bu</th></tr>
                                <tr th:each="oneUser : ${nbBeerByUserOfYear}">
                                        <td><span th:text="${oneUser.first.name}"> Nom </span></td>
                                        <td><span th:text="${oneUser.second*1.0 / 100 + ' l'}"> Quantité </span></td>
                                    </tr>
                            </table>
                        </span>
                    </section>
                    <section class="tab-content">

                        <span th:unless="${#lists.isEmpty(nbBeerByUserOfTotal)}">
                            <table class="table  is-striped  is-hoverable is-fullwidth">
                                <tr><th>Nom</th><th>Quantité de Bière bu</th></tr>
                                <tr th:each="oneUser : ${nbBeerByUserOfTotal}">
                                        <td><span th:text="${oneUser.first.name}"> Nom </span></td>
                                        <td><span th:text="${oneUser.second*1.0 / 100 + ' l'}"> Quantité </span></td>
                                    </tr>
                            </table>
                        </span>

                    </section>
                </div>


            </div>


        </div>
        <div th:replace="~{home :: .footer}"></div>
    <script>
        let tabsWithContent = (function () {
            let tabs = document.querySelectorAll('.tabs li');
            let tabsContent = document.querySelectorAll('.tab-content');

            let deactvateAllTabs = function () {
                tabs.forEach(function (tab) {
                    tab.classList.remove('is-active');
                });
            };

            let hideTabsContent = function () {
                tabsContent.forEach(function (tabContent) {
                    tabContent.classList.remove('is-active');
                });
            };

            let activateTabsContent = function (tab) {
                tabsContent[getIndex(tab)].classList.add('is-active');
            };

            let getIndex = function (el) {
                return [...el.parentElement.children].indexOf(el);
            };

            tabs.forEach(function (tab) {
                tab.addEventListener('click', function () {
                    deactvateAllTabs();
                    hideTabsContent();
                    tab.classList.add('is-active');
                    activateTabsContent(tab);
                });
            })

            tabs[0].click();
        })();
    </script>
    </body>
</html>